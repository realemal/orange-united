---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';

const pages = await getCollection('pages');
const getInvolvedPage = pages.find(page => page.slug === 'get-involved');

let Content;
if (getInvolvedPage) {
  const rendered = await getInvolvedPage.render();
  Content = rendered.Content;
}
---

<BaseLayout
  title="Get Involved"
  description="Volunteer, donate, or join our community. Find out how you can make a difference in Orange education."
>
  <div class="bg-gradient-to-br from-orange-50 to-white py-12">
    <div class="container-custom">
      <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4" data-en="Get Involved" data-es="Participa">
        Get Involved
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl" data-en="Every voice matters. Here's how you can make a difference." data-es="Cada voz importa. Así es como puedes hacer la diferencia.">
        Every voice matters. Here's how you can make a difference.
      </p>
    </div>
  </div>

  <section class="py-12">
    <div class="container-custom max-w-4xl">
      {Content && (
        <div class="article-content mb-12">
          <Content />
        </div>
      )}

      <!-- Volunteer Section -->
      <div id="volunteer" class="mb-12 scroll-mt-20">
        <div class="card p-8">
          <div class="flex items-start gap-4 mb-6">
            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
              </svg>
            </div>
            <div class="flex-1">
              <h2 class="text-2xl font-bold text-gray-900 mb-3" data-en="Volunteer with Us" data-es="Voluntario con Nosotros">Volunteer with Us</h2>
              <p class="text-gray-700 mb-6" data-en="Help us amplify parent voices. Volunteers help with events, outreach, board meeting coverage, and more." data-es="Ayúdanos a amplificar las voces de los padres. Los voluntarios ayudan con eventos, alcance comunitario, cobertura de reuniones de la junta y más.">
                Help us amplify parent voices. Volunteers help with events, outreach, board meeting coverage, and more.
              </p>
              
              <form
                name="volunteer"
                method="POST"
                data-netlify="true"
                netlify-honeypot="bot-field"
                class="space-y-4"
              >
                <input type="hidden" name="form-name" value="volunteer" />
                <div class="hidden">
                  <label>Don't fill this out: <input name="bot-field" /></label>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4">
                  <input
                    type="text"
                    name="name"
                    placeholder="Your name"
                    required
                    class="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                  />
                  <input
                    type="email"
                    name="email"
                    placeholder="Email address"
                    required
                    class="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                  />
                </div>
                
                <input
                  type="tel"
                  name="phone"
                  placeholder="Phone number (optional)"
                  data-placeholder-en="Phone number (optional)"
                  data-placeholder-es="Número de teléfono (opcional)"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                />
                
                <textarea
                  name="message"
                  rows="4"
                  placeholder="Tell us about your interests and availability..."
                  data-placeholder-en="Tell us about your interests and availability..."
                  data-placeholder-es="Cuéntanos sobre tus intereses y disponibilidad..."
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                ></textarea>
                
                <button type="submit" class="btn btn-primary">
                  <span data-en="Sign Up to Volunteer" data-es="Regístrate como Voluntario">Sign Up to Volunteer</span>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>

      <!-- Donate Section -->
      <div id="donate" class="mb-12 scroll-mt-20">
        <div class="card p-8">
          <div class="flex items-start gap-4 mb-6">
            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <div class="flex-1">
              <h2 class="text-2xl font-bold text-gray-900 mb-3" data-en="Support Our Work" data-es="Apoya Nuestro Trabajo">Support Our Work</h2>
              <p class="text-gray-700 mb-6" data-en="Your donations help us maintain this website, attend board meetings, and organize community events. Every contribution makes a difference." data-es="Tus donaciones nos ayudan a mantener este sitio web, asistir a las reuniones de la junta y organizar eventos comunitarios. Cada contribución marca la diferencia.">
                Your donations help us maintain this website, attend board meetings, and organize community events. 
                Every contribution makes a difference.
              </p>
              
              <form
                name="donate-interest"
                method="POST"
                data-netlify="true"
                netlify-honeypot="bot-field"
                class="space-y-4"
              >
                <input type="hidden" name="form-name" value="donate-interest" />
                <div class="hidden">
                  <label>Don't fill this out: <input name="bot-field" /></label>
                </div>
                
                <div class="grid md:grid-cols-2 gap-4">
                  <input
                    type="text"
                    name="name"
                    placeholder="Your name"
                    data-placeholder-en="Your name"
                    data-placeholder-es="Tu nombre"
                    required
                    class="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                  />
                  <input
                    type="email"
                    name="email"
                    placeholder="Email address"
                    data-placeholder-en="Email address"
                    data-placeholder-es="Dirección de correo electrónico"
                    required
                    class="px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                  />
                </div>
                
                <textarea
                  name="message"
                  rows="3"
                  placeholder="Message or questions (optional)"
                  data-placeholder-en="Message or questions (optional)"
                  data-placeholder-es="Mensaje o preguntas (opcional)"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                ></textarea>
                
                <button type="submit" class="btn btn-primary">
                  <span data-en="Learn About Donating" data-es="Aprende Sobre Donar">Learn About Donating</span>
                </button>
              </form>
              
              <p class="text-sm text-gray-500 mt-4 italic" data-en="Paid for by The Community Action Network." data-es="Pagado por The Community Action Network.">
                Paid for by The Community Action Network.
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Newsletter -->
      <div class="bg-orange-50 rounded-xl p-8 text-center">
        <h2 class="text-2xl font-bold text-gray-900 mb-3" data-en="Stay Informed" data-es="Mantente Informado">Stay Informed</h2>
        <p class="text-gray-700 mb-6" data-en="The easiest way to stay involved is to subscribe to our newsletter for updates on meetings, events, and action opportunities." data-es="La forma más fácil de mantenerse involucrado es suscribirse a nuestro boletín para recibir actualizaciones sobre reuniones, eventos y oportunidades de acción.">
          The easiest way to stay involved is to subscribe to our newsletter for updates on 
          meetings, events, and action opportunities.
        </p>
        <div class="flex flex-col sm:flex-row gap-3 justify-center">
          <a href="/#newsletter" class="btn btn-primary">
            <span data-en="Subscribe to Newsletter" data-es="Suscribirse al Boletín">Subscribe to Newsletter</span>
          </a>
          <a href="mailto:info@orangeunited.org" class="btn btn-outline inline-flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span data-en="Email Us" data-es="Envíanos un Correo">Email Us</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

