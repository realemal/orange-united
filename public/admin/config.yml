backend:
  name: git-gateway
  branch: main

# Uncomment for local development
# local_backend: true

media_folder: "public/uploads"
public_folder: "/uploads"

publish_mode: editorial_workflow

# Custom admin dashboard link
display_url: https://orangeunited.org
site_url: https://orangeunited.org

collections:
  # Articles Collection
  - name: "articles"
    label: "Articles"
    folder: "src/content/articles"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - { label: "Excerpt", name: "excerpt", widget: "text" }
      - { label: "Featured Image", name: "image", widget: "image", required: false }
      - {
          label: "Category",
          name: "category",
          widget: "select",
          options: ["Curriculum", "Board Meetings", "Opinion", "News"]
        }
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          required: false,
          default: []
        }
      - { label: "Body", name: "body", widget: "markdown" }
      - { label: "Spanish Title", name: "esTitle", widget: "string", required: false }
      - { label: "Spanish Excerpt", name: "esExcerpt", widget: "text", required: false }
      - {
          label: "Status",
          name: "status",
          widget: "select",
          options: ["draft", "published"],
          default: "published"
        }
      - { label: "Featured", name: "featured", widget: "boolean", default: false }

  # Events Collection
  - name: "events"
    label: "Events"
    folder: "src/content/events"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Date & Time", name: "date", widget: "datetime" }
      - { label: "Location", name: "location", widget: "string" }
      - { label: "RSVP URL", name: "rsvpUrl", widget: "string", required: false }
      - { label: "Canceled", name: "isCanceled", widget: "boolean", default: false }
      - { label: "Description", name: "body", widget: "markdown" }

  # Pages Collection
  - name: "pages"
    label: "Pages"
    folder: "src/content/pages"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Body", name: "body", widget: "markdown" }

  # Site Settings (Singleton)
  - name: "settings"
    label: "Site Settings"
    files:
      - label: "General Settings"
        name: "general"
        file: "src/data/settings.json"
        fields:
          - { label: "Site Title", name: "siteTitle", widget: "string", default: "Orange United" }
          - { label: "Tagline", name: "tagline", widget: "string", default: "Protecting Parent Choice" }
          - { label: "Primary Color", name: "primaryColor", widget: "string", default: "#F97316" }
          - label: "Social Links"
            name: "socials"
            widget: "object"
            fields:
              - { label: "Twitter URL", name: "twitter", widget: "string", default: "https://twitter.com/orangeunitedca" }
              - { label: "Instagram URL", name: "instagram", widget: "string", default: "https://instagram.com/orangeunited.ca" }
              - { label: "Facebook URL", name: "facebook", widget: "string", default: "https://www.facebook.com/profile.php?id=61582066048374" }
          - {
              label: "Newsletter Provider",
              name: "newsletterProvider",
              widget: "select",
              options: ["netlify", "mailchimp", "beehiiv"],
              default: "netlify"
            }
          - {
              label: "Newsletter Embed HTML",
              name: "newsletterEmbedHtml",
              widget: "text",
              required: false,
              hint: "Paste Mailchimp or Beehiiv embed code here"
            }
          - { label: "Google Analytics ID", name: "ga4Id", widget: "string", required: false }

  # Vote Tracker - Meetings Collection
  - name: "meetings"
    label: "Board Meetings"
    folder: "src/data/votes/meetings"
    create: true
    extension: "json"
    identifier_field: id
    fields:
      - { label: "ID", name: "id", widget: "string", hint: "Format: YYYY-MM-DD" }
      - { label: "Date", name: "date", widget: "datetime" }
      - { label: "Location", name: "location", widget: "string", default: "1401 N. Handy Street, Orange, CA 92867" }
      - { label: "Agenda URL", name: "agendaUrl", widget: "string", required: false }
      - { label: "Minutes URL", name: "minutesUrl", widget: "string", required: false }

  # Vote Tracker - Agenda Items Collection
  - name: "items"
    label: "Agenda Items"
    folder: "src/data/votes/items"
    create: true
    extension: "json"
    identifier_field: id
    fields:
      - { label: "ID", name: "id", widget: "string", hint: "Unique identifier for this item" }
      - { label: "Meeting ID", name: "meetingId", widget: "relation", collection: "meetings", value_field: "id", search_fields: ["id", "date"], display_fields: ["date"] }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Description", name: "description", widget: "text", required: false }
      - { label: "Category", name: "category", widget: "select", options: ["Curriculum", "Budget", "Policy", "Personnel", "Facilities", "Other"], default: "Other" }
      - { label: "Attachments", name: "attachments", widget: "list", required: false, field: { label: "URL", name: "url", widget: "string" } }

  # Vote Tracker - Votes Collection
  - name: "votes"
    label: "Individual Votes"
    folder: "src/data/votes/votes"
    create: true
    extension: "json"
    identifier_field: id
    fields:
      - { label: "ID", name: "id", widget: "string", hint: "Auto-generate or use format: item-id-member-name" }
      - { label: "Item ID", name: "itemId", widget: "relation", collection: "items", value_field: "id", search_fields: ["id", "title"], display_fields: ["title"] }
      - { label: "Member", name: "memberId", widget: "select", options: ["erickson", "yamasaki", "page", "vane", "pelly", "thomas", "glass"], hint: "Trustee last name (lowercase)" }
      - { label: "Vote", name: "vote", widget: "select", options: ["Y", "N", "A", "P"], hint: "Y=Yes, N=No, A=Abstain, P=Absent" }
      - { label: "Notes", name: "notes", widget: "text", required: false }

  # Board Members Collection
  - name: "board_members"
    label: "Board Members"
    files:
      - label: "Board Members"
        name: "members"
        file: "src/data/board-members.json"
        fields:
          - label: "Board Members"
            name: "members"
            widget: "list"
            fields:
              - { label: "ID", name: "id", widget: "number" }
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Title", name: "title", widget: "select", options: ["President", "Vice President", "Clerk", "Member"] }
              - { label: "Area", name: "area", widget: "string", hint: "e.g., Area 1, Area 2, etc." }
              - { label: "Email", name: "email", widget: "string" }
              - { label: "Term", name: "term", widget: "string", hint: "e.g., 2024-2028" }
              - { label: "Photo", name: "photo", widget: "image", required: false }
              - { label: "Bio", name: "bio", widget: "text", required: false }

  # Homepage Customization
  - name: "homepage"
    label: "Homepage Settings"
    files:
      - label: "Hero Section"
        name: "hero"
        file: "src/data/homepage-hero.json"
        fields:
          - { label: "Headline", name: "headline", widget: "string", default: "Know What's Happening in Orange Schools" }
          - { label: "Subheadline", name: "subheadline", widget: "string", default: "Weekly updates on classrooms, safety, and how your tax dollars are spent." }
          - { label: "CTA Button Text", name: "ctaText", widget: "string", default: "Join the Weekly Brief" }
          - { label: "Background Color", name: "bgColor", widget: "select", options: ["orange", "blue", "purple", "gray"], default: "orange" }

      - label: "Priority Tiles"
        name: "tiles"
        file: "src/data/homepage-tiles.json"
        fields:
          - label: "Tiles"
            name: "tiles"
            widget: "list"
            max: 3
            fields:
              - { label: "Title", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - { label: "Link URL", name: "url", widget: "string" }
              - { label: "CTA Text", name: "ctaText", widget: "string" }
              - { label: "Color", name: "color", widget: "select", options: ["blue", "green", "purple", "orange", "red"] }

  # Navigation Menu
  - name: "navigation"
    label: "Navigation Menu"
    files:
      - label: "Main Navigation"
        name: "mainNav"
        file: "src/data/navigation.json"
        fields:
          - label: "Main Navigation"
            name: "mainNav"
            widget: "list"
            fields:
              - { label: "Label", name: "label", widget: "string" }
              - { label: "URL", name: "url", widget: "string" }
              - { label: "Order", name: "order", widget: "number" }

